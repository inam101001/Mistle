interface Diagram {
  nodeDataArray: any[]; // Adjust the type as per your actual data structure
  linkDataArray: any[]; // Adjust the type as per your actual data structure
  modelData: any; // Adjust the type as per your actual data structure
  selectedData: any; // Adjust the type as per your actual data structure
  skipsDiagramUpdate: boolean;
}

//Define Diagram Constatns here

let Default: Diagram = {
  nodeDataArray: [
    {
      text: "Start by Adding Shapes",
      color: "#000000",
      key: 1,
      loc: "315 25",
      scale: 1.1544933012125682,
      fill: "#ffffff",
    },
  ],
  linkDataArray: [],
  modelData: {
    canRelink: true,
  },
  selectedData: null,
  skipsDiagramUpdate: false,
};

const BlockDiagram: Diagram = {
  nodeDataArray: [
    {
      key: "0",
      color: "#000000",
      text: "Input Unit",
      shape: "Block",
      loc: "-215 15.725999999999999",
      group: 1,
      thickness: 2,
      fill: "#ffffff",
    },
    {
      key: "02",
      color: "#000000",
      text: "Control Unit",
      shape: "Block",
      loc: "66.88401220703126 -83.548",
      group: 2,
      fill: "#ffffff",
    },
    {
      key: "022",
      color: "#000000",
      text: "Arithmetic & Logic\nUnit",
      shape: "Block",
      loc: "66.88401220703128 15",
      group: 2,
      fill: "#ffffff",
    },
    {
      key: "0222",
      color: "#000000",
      text: "Main Memory",
      shape: "Block",
      loc: "66.88401220703128 115",
      group: 2,
      fill: "#ffffff",
    },
    {
      key: "02222",
      color: "#000000",
      text: "Output Unit",
      shape: "Block",
      loc: "345 15.725999999999999",
      group: 1,
      fill: "#ffffff",
    },
    { text: "A Block Diagram Template", isGroup: true, key: 1 },
    { text: "Central Processing Unit", isGroup: true, key: 2, group: 1 },
  ],
  linkDataArray: [
    {
      from: "022",
      to: "02",
      fromPort: "T",
      toPort: "B",
      key: -1,
      points: [
        66.88401220703128, -13.993294781868812, 66.88401220703128,
        -21.993294781868812, 66.88401220703128, -32.548, 66.88401220703128,
        -32.548, 66.88401220703128, -34.170640734488614, 66.88401220703128,
        -64.17064073448861,
      ],
      text: " ",
    },
    {
      from: "0222",
      to: "022",
      fromPort: "T",
      toPort: "B",
      key: -3,
      points: [
        66.88401220703128, 95.62264073448861, 66.88401220703128,
        87.62264073448861, 66.88401220703128, 50.26350000000001,
        66.88401220703128, 50.26350000000001, 66.88401220703128,
        73.99329478186881, 66.88401220703128, 43.99329478186881,
      ],
      segmentOffset: "0 21.60003662109375",
      text: " ",
    },
    {
      from: "022",
      to: "0222",
      fromPort: "L",
      toPort: "L",
      key: -4,
      points: [
        -20.207070050423475, 15, -28.207070050423475, 15, -47, 15, -47, 115,
        -29.825829205696913, 115, 0.17417079430308746, 115,
      ],
      text: " ",
    },
    {
      from: "02",
      to: "022",
      fromPort: "R",
      toPort: "R",
      key: -7,
      points: [
        127.07822099036491, -83.548, 135.0782209903649, -83.548,
        179.4000244140625, -83.548, 179.4000244140625, 15, 183.975094464486, 15,
        153.975094464486, 15,
      ],
      segmentOffset: "0.7999877929687429 8",
      text: " ",
    },
    {
      from: "0",
      to: 2,
      fromPort: "R",
      toPort: "L",
      key: -2,
      points: [
        -162.4089177425452, 15.725999999999999, -154.4089177425452,
        15.725999999999999, -123.4544588712726, 15.725999999999999,
        -123.4544588712726, 15.725999999999999, -92.5, 15.725999999999999,
        -62.5, 15.725999999999999,
      ],
      segmentOffset: "-4 12",
      text: "Inputs",
    },
    {
      from: 2,
      to: "02222",
      fromPort: "R",
      toPort: "L",
      key: -5,
      points: [
        195.475094464486, 15.725999999999999, 203.475094464486,
        15.725999999999999, 229.70763110351564, 15.725999999999999,
        229.70763110351564, 15.725999999999999, 255.94016774254527,
        15.725999999999999, 285.94016774254527, 15.725999999999999,
      ],
      segmentOffset: "0 10.4000244140625",
      text: "Outputs",
    },
  ],
  modelData: {
    canRelink: true,
  },
  selectedData: null,
  skipsDiagramUpdate: false,
};

const FlowChart: Diagram = {
  nodeDataArray: [
    {
      key: "0",
      color: "#000000",
      text: "Start",
      shape: "Start",
      loc: "-219.938 -161.302",
      group: 4,
      fill: "#ffffff",
    },
    {
      key: "3",
      color: "#000000",
      text: "Read Funds",
      shape: "Input",
      loc: "-219.938 -61.30199999999999",
      group: 4,
      fill: "#ffffff",
    },
    {
      key: "32",
      color: "#000000",
      text: "Read Cost",
      shape: "Input",
      loc: "-219.938 23.698000000000008",
      group: 4,
      fill: "#ffffff",
    },
    {
      key: "1",
      color: "#000000",
      text: "Check\nFunds >= Cost?",
      shape: "Decision",
      loc: "-219.938 118.69800000000001",
      scale: 0.8026380454363031,
      group: 4,
      fill: "#ffffff",
    },
    {
      key: "2",
      color: "#000000",
      text: "Total Funds as\n Funds - Cost",
      shape: "Process",
      loc: "80.06200000000001 118.69800000000001",
      group: 4,
      fill: "#ffffff",
    },
    {
      key: "22",
      color: "#000000",
      text: "Total Loss as\nCost - Funds",
      shape: "Process",
      loc: "-219.938 233.698",
      group: 4,
      fill: "#ffffff",
    },
    {
      key: "222",
      color: "#000000",
      text: "Print Loss",
      shape: "Process",
      loc: "-219.938 348.698",
      group: 4,
      fill: "#ffffff",
    },
    {
      key: "02",
      color: "#000000",
      text: "End",
      shape: "Start",
      loc: "-219.938 443.698",
      group: 4,
      dash: null,
      fill: "#ffffff",
    },
    {
      key: "23",
      color: "#000000",
      text: "Print Funds",
      shape: "Process",
      loc: "80.06200000000001 233.698",
      group: 4,
      fill: "#ffffff",
    },
    { text: "A Flowchart Template", isGroup: true, key: 4 },
  ],
  linkDataArray: [
    {
      from: "0",
      to: "3",
      fromPort: "B",
      toPort: "T",
      key: -1,
      points: [
        -219.938, -137.60441930762002, -219.938, -129.60441930762002, -219.938,
        -118.76117741198871, -219.938, -118.76117741198871, -219.938,
        -107.91793551635742, -219.938, -77.91793551635742,
      ],
      segmentOffset: "0.7999725341796875 -22.4000244140625",
      text: " ",
    },
    {
      from: "3",
      to: "32",
      fromPort: "B",
      toPort: "T",
      key: -2,
      points: [
        -219.938, -44.68606448364257, -219.938, -36.68606448364257, -219.938,
        -29.801999999999992, -219.938, -29.801999999999992, -219.938,
        -22.917935516357417, -219.938, 7.082064483642583,
      ],
      segmentOffset: "0.8000183105468768 -24",
      text: " ",
    },
    {
      from: "32",
      to: "1",
      fromPort: "B",
      toPort: "T",
      key: -3,
      points: [
        -219.938, 40.31393551635743, -219.938, 48.31393551635743, -219.938,
        52.390032241821295, -219.93800000000002, 52.390032241821295,
        -219.93800000000002, 47.391242657765474, -219.93800000000002,
        77.39124265776547,
      ],
      segmentOffset: "1.600006103515625 -44",
      text: " ",
    },
    {
      from: "1",
      to: "2",
      fromPort: "R",
      toPort: "L",
      key: -4,
      points: [
        -99.8759459596983, 118.69800000000001, -91.8759459596983,
        118.69800000000001, -60.39133653575735, 118.69800000000001,
        -60.39133653575735, 118.69800000000001, -17.847332275390613,
        118.69800000000001, 12.152667724609387, 118.69800000000001,
      ],
      segmentOffset: "-0.7999877929687536 -11.199981689453125",
      text: "Yes",
    },
    {
      from: "1",
      to: "22",
      fromPort: "B",
      toPort: "T",
      key: -5,
      points: [
        -219.93800000000002, 160.00475734223457, -219.93800000000002,
        168.00475734223457, -219.93800000000002, 169.82529522504794, -219.938,
        169.82529522504794, -219.938, 177.46612896728516, -219.938,
        207.46612896728516,
      ],
      segmentOffset: "0 -16.00006103515625",
      text: "No",
    },
    {
      from: "22",
      to: "222",
      fromPort: "B",
      toPort: "T",
      key: -6,
      points: [
        -219.938, 259.92987103271486, -219.938, 267.92987103271486, -219.938,
        285.0059677581787, -219.938, 285.0059677581787, -219.938,
        302.08206448364257, -219.938, 332.08206448364257,
      ],
      segmentOffset: "0 -30.39996337890625",
      text: "",
    },
    {
      from: "2",
      to: "23",
      fromPort: "",
      toPort: "T",
      key: -7,
      points: [
        80.06200000000001, 144.92987103271486, 80.06200000000001,
        152.92987103271486, 80.06200000000001, 165.198, 80.06200000000001,
        165.198, 80.06200000000001, 187.08206448364257, 80.06200000000001,
        217.08206448364257,
      ],
      segmentOffset: "3.20001220703125 -33.5999755859375",
      text: " ",
    },
    {
      from: "23",
      to: "02",
      fromPort: "B",
      toPort: "R",
      key: -8,
      points: [
        80.06200000000001, 250.31393551635742, 80.06200000000001,
        258.31393551635745, 80.06200000000001, 443.698, -156.89541901841272,
        443.698, -156.89541901841272, 443.698, -186.89541901841272, 443.698,
      ],
      text: " ",
    },
    {
      from: "222",
      to: "02",
      fromPort: "B",
      toPort: "T",
      key: -9,
      points: [
        -219.938, 365.31393551635745, -219.938, 373.31393551635745, -219.938,
        381.65717741198876, -219.938, 381.65717741198876, -219.938,
        390.00041930762, -219.938, 420.00041930762,
      ],
      segmentOffset: "0.79998779296875 -45.5999755859375",
      text: " ",
    },
  ],
  modelData: {
    canRelink: true,
  },
  selectedData: null,
  skipsDiagramUpdate: false,
};

const StateChart: Diagram = {
  nodeDataArray: [
    {
      key: "0",
      color: "#000000",
      text: "",
      shape: "Initial State",
      loc: "-701.93 175",
      group: 6,
      fill: "#ffffff",
    },
    {
      key: "1",
      color: "#000000",
      text: "Verifying the\nCredentials",
      shape: "State Box",
      loc: "-410.7899999999999 246.865",
      group: 6,
      fill: "#ffffff",
    },
    {
      key: 2,
      color: "#000000",
      text: "Validating the\nCredentials",
      shape: "State Box",
      loc: "-215.7899999999999 246.865",
      group: 6,
      fill: "#ffffff",
    },
    {
      key: 3,
      color: "#000000",
      text: "Access Granted",
      shape: "State Box",
      loc: "-0.7899999999999068 246.865",
      group: 6,
      fill: "#ffffff",
    },
    {
      key: 4,
      color: "#000000",
      text: "",
      shape: "EndState",
      loc: "169.2100000000001 161.86499999999998",
      group: 6,
      fill: "#ffffff",
    },
    {
      key: 5,
      color: "#000000",
      text: "",
      shape: "Initial State",
      loc: "-530.8599999999999 -173.205",
      group: 12,
      fill: "#ffffff",
    },
    {
      key: 7,
      color: "#000000",
      text: "Idle",
      shape: "State Box",
      loc: "-310.8599999999999 -173.205",
      group: 12,
      fill: "#ffffff",
    },
    {
      key: 8,
      color: "#000000",
      text: "Login",
      shape: "State Box",
      loc: "-50.8599999999999 -173.205",
      group: 12,
      fill: "#ffffff",
    },
    {
      key: 10,
      color: "#000000",
      text: "Logged in",
      shape: "State Box",
      loc: "240.84953488372096 -85",
      group: 12,
      fill: "#ffffff",
    },
    {
      key: 11,
      color: "#000000",
      text: "",
      shape: "EndState",
      loc: "240.84953488372096 -173.205",
      group: 12,
      fill: "#ffffff",
    },
    { text: "System Login Template", isGroup: true, key: 12 },
    { text: "Credentials Verification", isGroup: true, key: 6, group: 9 },
    { text: " ", isGroup: true, key: 9, group: 12 },
  ],
  linkDataArray: [
    {
      from: "0",
      to: "1",
      fromPort: "B",
      toPort: "L",
      key: -1,
      points: [
        -701.93, 205.06976744186048, -701.93, 213.06976744186048, -701.93,
        246.865, -503.7545106021812, 246.865, -503.7545106021812, 246.865,
        -473.7545106021812, 246.865,
      ],
      segmentOffset: "15.20001220703125 25.60003662109375",
      text: " ",
    },
    {
      from: "1",
      to: 2,
      fromPort: "R",
      toPort: "L",
      key: -2,
      points: [
        -347.82548939781856, 246.865, -339.82548939781856, 246.865,
        -324.2899999999999, 246.865, -324.2899999999999, 246.865,
        -313.3013856021812, 246.865, -283.3013856021812, 246.865,
      ],
      segmentOffset: "-0.79998779296875 20",
      text: " ",
    },
    {
      from: 2,
      to: 3,
      fromPort: "R",
      toPort: "L",
      key: -3,
      points: [
        -148.2786143978186, 246.865, -140.2786143978186, 246.865,
        -121.7899999999999, 246.865, -121.7899999999999, 246.865,
        -105.42639323157574, 246.865, -75.42639323157574, 246.865,
      ],
      segmentOffset: "2.39996337890625 18.4000244140625",
      text: "Success",
    },
    {
      from: 3,
      to: 4,
      fromPort: "",
      toPort: "B",
      key: -4,
      points: [
        73.84639323157592, 246.865, 81.84639323157592, 246.865,
        169.2100000000001, 246.865, 169.2100000000001, 221.93476744186052,
        169.2100000000001, 221.93476744186052, 169.2100000000001,
        191.93476744186046,
      ],
      segmentOffset: "-1.60009765625 18.4000244140625",
      text: " ",
    },
    {
      from: 2,
      to: 4,
      fromPort: "T",
      toPort: "L",
      key: -5,
      points: [
        -215.7899999999999, 217.87170521813118, -215.7899999999999,
        209.87170521813118, -215.7899999999999, 161.865, 109.14023255813962,
        161.865, 109.14023255813962, 161.865, 139.14023255813962, 161.865,
      ],
      segmentOffset: "4.79998779296875 15.199951171875",
      text: "Failure",
    },
    {
      from: 5,
      to: 7,
      fromPort: "",
      toPort: "",
      key: -8,
      points: [
        -500.7902325581394, -173.205, -492.7902325581394, -173.205,
        -465.5735527630218, -173.205, -465.5735527630218, -173.205,
        -366.6620350162437, -173.205, -336.6620350162437, -173.205,
      ],
      segmentOffset: "-3.20001220703125 24",
      text: " ",
    },
    {
      from: 7,
      to: 8,
      fromPort: "R",
      toPort: "L",
      key: -9,
      points: [
        -285.05796498375605, -173.205, -277.05796498375605, -173.205,
        -204.30765090942373, -173.205, -204.30765090942373, -173.205,
        -113.46358683509138, -173.205, -83.46358683509138, -173.205,
      ],
      segmentOffset: "-0.79998779296875 11.20001220703125",
      text: " ",
    },
    {
      from: 8,
      to: 7,
      fromPort: "T",
      toPort: "T",
      key: -10,
      points: [
        -50.85999999999991, -192.5823592655114, -50.85999999999991,
        -200.5823592655114, -50.85999999999991, -222.5823592655114,
        -310.8599999999999, -222.5823592655114, -310.8599999999999,
        -222.5823592655114, -310.8599999999999, -192.5823592655114,
      ],
      segmentOffset: "-52.79998779296875 11.199993133544922",
      text: "Cancel / Failure",
    },
    {
      from: 10,
      to: 11,
      fromPort: "T",
      toPort: "B",
      key: -13,
      points: [
        240.84953488372096, -104.37735926551139, 240.84953488372096,
        -112.37735926551139, 240.84953488372096, -113.65379591182547,
        240.84953488372096, -113.65379591182547, 240.84953488372096,
        -113.13523255813956, 240.84953488372096, -143.13523255813956,
      ],
      segmentOffset: "0.8000030517578125 36.80004882812497",
      text: " ",
    },
    {
      from: 9,
      to: 7,
      fromPort: "TLM",
      toPort: "B",
      key: -6,
      points: [
        -559.5438604651163, 80.2199395893895, -559.5438604651163,
        72.2199395893895, -559.5438604651163, -25.803850572549564,
        -310.8599999999999, -25.803850572549564, -310.8599999999999,
        -123.82764073448863, -310.8599999999999, -153.82764073448863,
      ],
      segmentOffset: "-2.4000244140625 16.799987792968757",
      text: "Failure / Cancel",
    },
    {
      from: 9,
      to: 10,
      fromPort: "R",
      toPort: "R",
      key: -7,
      points: [
        222.2797674418606, 193.4512844156664, 230.2797674418606,
        193.4512844156664, 335.66997558593755, 193.4512844156664,
        335.66997558593755, -85, 322.1187329859023, -85, 292.1187329859023, -85,
      ],
      segmentOffset: "-0.7999267578124716 -37.5999755859375",
      text: "Success",
    },
    {
      from: 8,
      to: 9,
      fromPort: "B",
      toPort: "TRM",
      key: -11,
      points: [
        -50.85999999999991, -153.82764073448863, -50.85999999999991,
        -145.82764073448863, -50.85999999999991, -47.803850572549564,
        26.82386046511642, -47.803850572549564, 26.82386046511642,
        50.2199395893895, 26.82386046511642, 80.2199395893895,
      ],
      segmentOffset: "-15.199951171875 28.799957275390614",
      text: "Credentials\nVerification",
    },
  ],
  modelData: {
    canRelink: true,
  },
  selectedData: null,
  skipsDiagramUpdate: false,
};

export default function DiagramProvider(diagram: string): Diagram {
  const Diagrams: Record<string, Diagram> = {
    BlockDiagram,
    FlowChart,
    StateChart,
    // More constants (Diagrams) here as needed
  };

  let storedData;
  if (typeof window !== "undefined") {
    // Well Well, you know what this is
    storedData = localStorage.getItem("diagramData");
  } else {
    storedData = null; // Handled below
  }

  if (storedData) {
    try {
      const parsedData: Diagram = JSON.parse(storedData);
      Default = parsedData;
      return Diagrams[diagram] || Default;
    } catch (error) {
      console.error("Error parsing stored diagram data:", error);
      // Back to Pavillion
      return Diagrams[diagram] || Default;
    }
  } else {
    // Again, Pavillion
    return Diagrams[diagram] || Default;
  }
}
